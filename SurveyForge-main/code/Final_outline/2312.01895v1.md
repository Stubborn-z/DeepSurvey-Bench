I. INTRODUCTION

II. OVERVIEW ON NON-TERRESTRIAL NETWORKS
A. Characteristics of Non-Terrestrial Networks
B. Integration of Non-Terrestrial Networks in 6G
C. Challenges of Non-Terrestrial Networks Integration

III. BACKGROUND ON NETWORK VIRTUALIZATION
A. Network Virtualization and Softwarization

IV. ARTIFICIAL INTELLIGENCE IN NETWORK VIRTUALIZATION
A. Motivation
B. Overview on Artificial Intelligence
C. AI Applications in Network Virtualization

V. VIRTUALIZATION CHALLENGES IN INTEGRATED TERRESTRIAL AND NON-TERRESTRIAL NETWORKS
A. Challenges in SDN-enabled Networks
B. Challenges in NFV-enabled Networks
C. Challenges in Network Slicing-based Networks
D. Common Challenges

VI. VIRTUALIZATION OF INTEGRATED TERRESTRIAL AND NON-TERRESTRIAL NETWORKS
A. Virtualization in the Satellite-Terrestrial Segment
B. Virtualization in the Aerial-Terrestrial Segment
C. Virtualization in the Satellite-Aerial-Terrestrial Segment
D. Summary & Learned Lessons

VII. SIMULATION AND IMPLEMENTATION TOOLS
A. Network Simulators
B. Network Virtualization Tools
C. Testbeds and Prototypes

VIII. OPEN ISSUES AND RESEARCH DIRECTIONS
A. Coping with NTNs characteristics
B. Dealing with multi-domain network architecture
C. Ensuring network security and resiliency
D. Designing dedicated simulation tools
F. Leveraging other emerging technologies

IX. CONCLUSION